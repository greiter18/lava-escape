!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=1)}([function(t,e,i){},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e);var o=[400,200,20],s=[150,100,75],r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=Math.floor(3*Math.random())+0,n=Math.floor(3*Math.random())+0;this.img=document.getElementById("imgPlatform"),this.game=e,this.position={x:o[i],y:10},this.width=s[n],this.height=20,this.velocity_y=0}var e,i,r;return e=t,(i=[{key:"draw",value:function(t){t.drawImage(this.img,this.position.x,this.position.y+=this.velocity_y,this.width,this.height)}},{key:"update",value:function(t){this.velocity_y=1}}])&&n(e.prototype,i),r&&n(e,r),t}();function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.img=document.getElementById("imgPlayer"),this.sound=document.getElementById("jump"),this.platforms=e.platforms,this.startPlatform=e.startPlatform,this.canvas=e.canvas,this.mute=e.mute,this.width=50,this.height=60,this.gameWidth=e.gameWidth,this.gameHeight=e.gameHeight,this.onGround=!1,this.onPlatform=!1,this.velocity_y=0,this.position={x:e.gameWidth/2-this.width/2,y:20},document.addEventListener("keydown",(function(t){i.canvas.keys=i.canvas.keys||[],i.canvas.keys[t.key]=!0,i.canvas.keys[" "]&&(i.onPlatform||i.onGround)&&(i.velocity_y-=45,i.onGround=!1,i.onPlatform=!1,i.sound.play())})),document.addEventListener("keyup",(function(t){i.canvas.keys[t.key]=!1}))}var e,i,n;return e=t,(i=[{key:"draw",value:function(t){t.fillStyle="blue",t.drawImage(this.img,this.position.x,this.position.y+=this.velocity_y,this.width,this.height)}},{key:"checkLandedOnPlatform",value:function(t){return this.position.y+this.height>t-8&&this.position.y+this.height<=t+50}},{key:"checkWithinPlatform",value:function(t){var e=t.width,i=t.position.x,n=i+e,o=this.game.player.position.x;return o>i-50&&o<n}},{key:"gravity",value:function(){this.onGround||this.onPlatform||(this.velocity_y+=4)}},{key:"gameOn",value:function(){this.onGround&&this.gameOver()}},{key:"update",value:function(t){var e=this;t&&(this.canvas.keys&&this.canvas.keys.ArrowLeft&&(this.position.x+=-8),this.canvas.keys&&this.canvas.keys.ArrowRight&&(this.position.x+=8),this.canvas.keys&&this.canvas.keys.ArrowDown&&this.onPlatform&&(this.position.y+=15),!this.onGround&&this.velocity_y>=0&&this.position.y+this.height>=this.gameHeight&&(this.onGround=!0,this.velocity_y=0,this.position.y=this.gameHeight-this.height,this.game.gameOver()),this.position.x<0&&(this.position.x=this.gameWidth-this.width),this.position.x>this.gameWidth&&(this.position.x=0),this.onPlatform=!1,this.platforms.forEach((function(t){e.checkLandedOnPlatform(t.position.y)&&e.checkWithinPlatform(t)&&!e.onGround&&e.velocity_y>=1&&(e.onPlatform=!0,e.velocity_y=t.velocity_y)})),this.gravity())}}])&&a(e.prototype,i),n&&a(e,n),t}();function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sound=document.getElementById("gemSound");var i=Math.floor(450*Math.random())+25,n=Math.floor(500*Math.random())+100;this.height=25,this.width=25,this.img=document.getElementById("gem"),this.position={x:i,y:n},this.player=e.player,this.game=e,this.score=e.score,this.mute=e.mute}var e,i,n;return e=t,(i=[{key:"draw",value:function(t){t.drawImage(this.img,this.position.x,this.position.y,this.width,this.height)}},{key:"removeGem",value:function(){var t=this.game.gems.indexOf(this);this.game.gems.splice(t,1),this.game.score+=200,this.sound.play()}},{key:"playerGemHeight",value:function(t){return console.log("height--------------",this.position.y+this.height),this.position.y+this.height<=t&&t+50>=this.position.y}},{key:"playerGemwidth",value:function(t){var e=t.width,i=t.position.x,n=e+i,o=this.position.x;return n>o&&i<o+this.width}},{key:"update",value:function(t){this.player.position.y+this.player.height>=this.position.y+this.height&&this.player.position.y<=this.position.y+this.height&&this.player.position.x+this.player.width>=this.position.x&&this.player.position.x<=this.position.x+this.width&&this.removeGem()}}])&&l(e.prototype,i),n&&l(e,n),t}();function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.img=document.getElementById("imgPlatform"),this.game=e,this.position={x:5,y:200},this.width=600,this.height=20,this.velocity_y=0}var e,i,n;return e=t,(i=[{key:"draw",value:function(t){t.drawImage(this.img,this.position.x,this.position.y+=this.velocity_y,this.width,this.height)}},{key:"update",value:function(t){this.velocity_y=1}}])&&u(e.prototype,i),n&&u(e,n),t}();function y(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=500,this.height=30,this.img=document.getElementById("lava")}var e,i,n;return e=t,(i=[{key:"draw",value:function(t){t.drawImage(this.img,0,680,this.width,this.height)}}])&&y(e.prototype,i),n&&y(e,n),t}();function f(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return g(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var v=function(){function t(e,i,n,o,s,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=n,this.gameWidth=e,this.gameHeight=i,this.score=0,this.clock=s,this.platforms=[new m(this)],this.player=new h(this),this.paused=!1,this.gems=[new c(this)],this.mute=r,this.restartGame=this.restartGame.bind(this),this.sound=document.getElementById("scream"),this.lava=new d(this)}var e,i,n;return e=t,(i=[{key:"addPlatform",value:function(){this.platforms[this.platforms.length-1].position.y>=100&&this.platforms.push(new r(this)),this.platforms.length>50&&this.platforms.shift()}},{key:"addGem",value:function(){this.gems.length<1&&this.gems.push(new c(this))}},{key:"updateScore",value:function(){var t=document.getElementById("score");this.paused||(this.score+=1),t.innerHTML=this.score}},{key:"update",value:function(t){this.paused||([].concat(f(this.gems),f(this.platforms),[this.player]).forEach((function(e){return e.update(t)})),this.updateScore(),this.addPlatform(),this.addGem())}},{key:"draw",value:function(t){this.paused||[].concat(f(this.gems),f(this.platforms),[this.player,this.lava]).forEach((function(e){return e.draw(t)}))}},{key:"gameOver",value:function(){this.paused=!0,this.sound.play(),console.log("mute-----------",this.mute),document.getElementById("close_modal").style.display="block",document.getElementById("gameScreen").style.display="none",clearInterval(this.clock),document.getElementById("endScore").innerHTML="Score  : "+this.score,this.score>localStorage.getItem("highScore")&&(localStorage.setItem("highScore",this.score),highscore.innerHTML=localStorage.getItem("highScore")),document.getElementById("restartButton").addEventListener("click",this.restartGame)}},{key:"restartGame",value:function(){this.score=0,this.paused=!1,this.platforms=[new m(this)],this.player=new h(this),this.gems=[new c(this)],document.getElementById("close_modal").style.display="none",document.getElementById("gameScreen").style.display="block"}}])&&p(e.prototype,i),n&&p(e,n),t}();i(0);window.addEventListener("load",(function(){var t=document.getElementById("gameScreen"),e=t.getContext("2d");t.height=700,t.width=500;var i=0,n=setInterval((function(){return i+=10}),750),o=new v(500,700,t,i,n,!1),s=0;function r(t){var i=t-s;s=t,e.clearRect(0,0,500,700),o.update(i),o.draw(e),requestAnimationFrame(r)}localStorage.setItem("highScore",1500),highscore.innerHTML=localStorage.getItem("highScore"),document.getElementById("open_modal").addEventListener("click",(function(){r(),document.getElementById("open_modal").style.display="none",document.getElementById("gameScreen").style.display="block"}));var a=document.querySelector(".muteButton");a.addEventListener("click",(function(){a.classList.toggle("clickedMute");for(var t=document.querySelectorAll(".sound"),e=0;e<t.length;e++)!0===t[e].muted?t[e].muted=!1:t[e].muted=!0}))}))}]);
//# sourceMappingURL=main.js.map